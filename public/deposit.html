<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Deposit Saldo - Dashboard
  </title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="/style/deposit/deposit.css">
 </head>
 <body>
  <header aria-label="Header navigasi utama" role="banner">
   <div class="header-left">
    <a aria-label="Kembali ke dashboard" href="/dashboard" title="Kembali ke dashboard">
     <i aria-hidden="true" class="fas fa-arrow-left">
     </i>
     Dashboard
    </a>
   </div>
   <div class="header-right">
    <button aria-controls="pendingPopup" aria-expanded="false" aria-haspopup="true" aria-label="Daftar deposit pending, klik untuk melihat" class="pending-button" id="pendingBtn" title="Deposit Pending">
     <i aria-hidden="true" class="fas fa-shopping-cart">
     </i>
     <span id="pendingCount" style="min-width: 18px; text-align: center; font-weight: 700; user-select:none;">
      0
     </span>
     <i aria-hidden="true" class="fas fa-chevron-down">
     </i>
    </button>
    <button aria-controls="profilePopup" aria-expanded="false" aria-haspopup="true" aria-label="Profil pengguna, klik untuk melihat detail" class="profile-button" id="profileBtn" title="Profil Pengguna">
     <img alt="Foto profil pengguna" height="40" src="https://storage.googleapis.com/a1aa/image/93fc8d3c-570c-4916-354c-d509a45128d3.jpg" width="40"/>
     <span id="profileUsername">
      User
     </span>
     <i aria-hidden="true" class="fas fa-chevron-down">
     </i>
    </button>
    <div aria-labelledby="profileTitle" aria-modal="true" class="profile-popup" id="profilePopup" role="dialog" tabindex="-1">
     <h3 id="profileTitle">
      <i aria-hidden="true" class="fas fa-user-circle">
      </i>
      Profil Pengguna
     </h3>
     <div class="profile-row">
      <div class="profile-label">
       Nama Lengkap
      </div>
      <div class="profile-value" id="profileFullname">
       -
      </div>
     </div>
     <div class="profile-row">
      <div class="profile-label">
       Username
      </div>
      <div class="profile-value" id="profileUsernamePopup">
       -
      </div>
     </div>
     <div class="profile-row">
      <div class="profile-label">
       Saldo
      </div>
      <div class="profile-value" id="profileSaldo">
       -
      </div>
     </div>
     <div class="profile-row">
      <div class="profile-label">
       Coin
      </div>
      <div class="profile-value" id="profileCoin">
       -
      </div>
     </div>
    </div>
    <div aria-labelledby="pendingTitle" aria-modal="true" class="pending-popup" id="pendingPopup" role="dialog" tabindex="-1">
     <h3 id="pendingTitle">
      <i aria-hidden="true" class="fas fa-shopping-cart">
      </i>
      Deposit Pending
     </h3>
     <div id="pendingListContainer">
      <p class="empty-message">
       Tidak ada deposit pending saat ini.
      </p>
     </div>
    </div>
   </div>
  </header>
  <main aria-label="Formulir Deposit Saldo" class="container" role="main">
   <h1>
    <i aria-hidden="true" class="fas fa-wallet">
    </i>
    Deposit Saldo
   </h1>
   <form aria-describedby="formDescription" id="depositForm" novalidate="">
    <p id="formDescription" style="font-weight:600; color:#475569;">
     Pilih jenis dan metode deposit, lalu masukkan nominal untuk membuat permintaan deposit baru.
    </p>
    <div>
     <label for="depositType">
      <i aria-hidden="true" class="fas fa-list-alt">
      </i>
      Jenis Deposit
     </label>
     <select aria-describedby="typeHelp" aria-label="Pilih jenis deposit" aria-required="true" id="depositType" name="type" required="">
      <option selected="" value="ewallet">
       E-Wallet
      </option>
      <option value="va">
       Virtual Account
      </option>
      <option value="bank">
       Bank Transfer
      </option>
     </select>
     <small id="typeHelp" style="color:#64748b; font-size:0.85rem; user-select:text;">
      Pilih jenis metode pembayaran
     </small>
    </div>
    <div>
     <label for="depositMethod">
      <i aria-hidden="true" class="fas fa-credit-card">
      </i>
      Metode Deposit
     </label>
     <div aria-label="Daftar metode deposit" class="methods-list" id="methodsList" role="list">
      <p style="color:#64748b; font-style:italic; text-align:center; margin-top: 12px; user-select:none;">
       Memuat metode deposit...
      </p>
     </div>
    </div>
    <div>
     <label for="nominalInput">
      <i aria-hidden="true" class="fas fa-coins">
      </i>
      Nominal Deposit (Rp)
     </label>
     <input aria-describedby="nominalHelp" aria-label="Masukkan nominal deposit dalam rupiah" aria-required="true" autocomplete="off" id="nominalInput" inputmode="numeric" min="500" name="nominal" pattern="[0-9]*" placeholder="Masukkan nominal deposit" required="" step="100" type="number"/>
     <small id="nominalHelp" style="color:#64748b; font-size:0.85rem; user-select:text;">
      Minimal deposit Rp 500
     </small>
    </div>
    <button aria-busy="false" aria-live="polite" class="btn-primary" disabled="" type="submit">
     <i aria-hidden="true" class="fas fa-paper-plane btn-icon">
     </i>
     Buat Permintaan Deposit
    </button>
   </form>
   <div id="depositResult" style="display:none; margin-top:32px;"></div>
  </main>
  <div aria-label="Informasi deposit sedang berlangsung" aria-modal="true" class="deposit-timer-overlay" id="depositTimerOverlay" role="dialog" style="display:none;">
   <div class="deposit-timer-box" role="document" tabindex="0">
    <button aria-label="Tutup informasi deposit" class="deposit-timer-close" id="closeTimerBtn" title="Tutup">
     Ã—
    </button>
    <h2>
     <i aria-hidden="true" class="fas fa-hourglass-half">
     </i>
     Deposit Sedang Berlangsung
    </h2>
    <div class="deposit-timer-details">
     <dl>
      <dt>
       Metode Pembayaran
      </dt>
      <dd id="timerMethodName">
      </dd>
      <dt>
       Nominal Deposit
      </dt>
      <dd id="timerAmount">
      </dd>
      <dt>
       Biaya Admin
      </dt>
      <dd id="timerFee">
      </dd>
      <dt>
       Saldo Masuk (Est.)
      </dt>
      <dd id="timerGetBalance">
      </dd>
      <dt id="timerBankLabel" style="display:none;">
      </dt>
      <dd id="timerBankValue" style="display:none;">
      </dd>
      <dt id="timerAccountLabel" style="display:none;">
      </dt>
      <dd id="timerAccountValue" style="display:none;">
      </dd>
      <dt id="timerNameLabel" style="display:none;">
      </dt>
      <dd id="timerNameValue" style="display:none;">
      </dd>
      <dt>
       Waktu Dibuat
      </dt>
      <dd id="timerCreatedAt">
      </dd>
      <dt>
       Waktu Kedaluwarsa
      </dt>
      <dd id="timerExpiredAt">
      </dd>
     </dl>
    </div>
    <div class="deposit-timer-status" id="timerStatus">
    </div>
    <div class="deposit-timer-countdown" id="timerCountdown">
    </div>
    <div class="deposit-timer-qr" id="timerQrContainer">
    </div>
    <div class="deposit-timer-buttons">
     <button class="btn-cancel-deposit" id="cancelDepositBtn" title="Batalkan deposit">
      <i class="fas fa-times-circle">
      </i>
      Batalkan Deposit
     </button>
     <button class="btn-close-timer" id="closeDepositBtn" title="Tutup informasi deposit">
      <i class="fas fa-check-circle">
      </i>
      Selesai
     </button>
    </div>
   </div>
  </div>
  <script src="/style/deposit/deposit.js"></script>
 </body>
</html>